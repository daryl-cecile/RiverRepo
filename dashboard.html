<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="river.connect.js"></script>
  <meta http-equiv='Content-Language' content='en'/>
</head>
<body>
  <div class="bar">
  	<div class="option interactive_btn">
      <img src="weather.png" style="width:50%" alt="">
  		<span>Weather</span>
  	</div>
  	<div class="option interactive_btn">
      <img src="call.png" style="width:50%" alt="">
  		<span>Make Call</span>
  	</div>
  	<div class="option interactive_btn">
      <img src="travel.png" style="width:50%" alt="">
  		<span>Plan Trip</span>
  	</div>
  </div>
  <div class="bar">
  	<div class="conversation">
      
  	</div>
  </div>
  <div class="bar">
  		<button id=talk_btn class=interactive_btn>
        <img src="mic.png" style="width:50%" alt="">  
      </button>
  </div>

  <script>
    var listening = false;
    document.querySelector("#talk_btn").addEventListener("click",()=>{
      var recognition = new webkitSpeechRecognition();
      recognition.lang = "en";
      recognition.onresult = function (event) {
          for (var i = event.resultIndex; i < event.results.length; ++i) {
              if (event.results[i].isFinal) {
                  RiverRemote.user_speak(event.results[i][0].transcript);
              }
          }
      };
    });

    function toggleListen(){
      listening = !listening;
      if (listening){
        recognition.start();
        River.ShowToast("Listening...");
      }
      else{
        recognition.stop();
      }
    }
  </script>
</body>
</html>
